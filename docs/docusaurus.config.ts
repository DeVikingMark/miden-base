import type { Config } from "@docusaurus/types";

// If your content lives in docs/src, set DOCS_PATH='src'; else '.'
const DOCS_PATH =
  process.env.DOCS_PATH || (require("fs").existsSync("src") ? "src" : ".");

const config: Config = {
  title: "Docs Dev Preview",
  url: "http://localhost:3000",
  baseUrl: "/",
  trailingSlash: false,

  // Minimal classic preset: docs only, autogenerated sidebars, same math plugins as prod
  presets: [
    [
      "classic",
      {
        docs: {
          path: DOCS_PATH, // '../docs' is implied because we are already inside docs/
          routeBasePath: "/", // mount docs at root for quick preview
          sidebarPath: "./sidebars.ts",
          remarkPlugins: [require("remark-math")],
          rehypePlugins: [require("rehype-katex")],
        },
        blog: false,
        pages: false,
      },
    ],
  ],
};
export default config;
